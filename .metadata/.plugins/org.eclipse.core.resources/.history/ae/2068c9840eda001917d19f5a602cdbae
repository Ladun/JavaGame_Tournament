package com.ladun.game.Item;

import com.ladun.engine.GameContainer;
import com.ladun.engine.Renderer;
import com.ladun.game.GameManager;
import com.ladun.game.objects.UI.Button;

public class ShopSlot {
	public static final int IMAGE_SIZE = 64;
	public static final int GAP = 8;
	public static final int BUTTON_HEIGHT = 32;
	public static final int STRING_SIZE = 15;
	
	private Item item;
	private int posX,posY;
	private Button parchaseButton;
	private boolean active;
	
	public ShopSlot(Item item,int posX,int posY) {
		parchaseButton = new Button(0,0, IMAGE_SIZE, BUTTON_HEIGHT, 0xffbbbbbb);
		setItem(item, posX, posY);
		
	}
	
	public void update(GameContainer gc, GameManager gm) {
	
		parchaseButton.update(gc, gm);
		if(parchaseButton.isReleased()) {
			
		}
	}
	public void render(GameContainer gc, Renderer r) {
		r.setzDepth(Renderer.LAYER_UI);
		// background Render
		r.drawFillRect(posX , posY, getWidth(), getHeight(), 0,0xffffffff);
		// item image Render
		r.drawFillRect(posX  + GAP, posY + GAP, IMAGE_SIZE, IMAGE_SIZE, 0,0xff000000);
		// Price Render
		r.drawString(item.getPrice() + "", posX + GAP, posY + IMAGE_SIZE - GAP , STRING_SIZE, 0xff000000);
		// Buy Button Render
		parchaseButton.render(gc, r);
	}
	public void setItem(Item item,int posX, int posY) {

		active = true;
		this.item = item;
		this.posX = posX;
		this.posY = posY;
		parchaseButton.setPosX(posX + GAP);
		parchaseButton.setPosY(posY + GAP * 3 + STRING_SIZE+ IMAGE_SIZE);
		
	}

	public boolean isActive() {
		return active;
	}

	public void setActive(boolean active) {
		this.active = active;
	}
	public static int getWidth() {
		return GAP * 2 + IMAGE_SIZE;
	}
	public static int getHeight() {
		return GAP * 4 + STRING_SIZE + BUTTON_HEIGHT + IMAGE_SIZE;
	}
}

